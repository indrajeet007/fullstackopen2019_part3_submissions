{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","services/persons.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","persons","handleClick","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","nameObject","name","number","some","el","message","window","confirm","console","log","value","onChange","target","type","Filter","handleInput","searchName","setSearchName","filteredName","filter","person","map","Person","handlePersonDelete","onClick","text","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","handleRefresh","key","find","personService","newList","Notification","showMessage","className","hidden","App","setPersons","showAll","setShowAll","filteredNameInput","setFilteredNameInput","setMessage","setShowMessage","useEffect","initialPersons","_refreshAfterDelete","style","displayFilterWise","final_object","p","undefined","returnedPerson","concat","setTimeout","changedPerson","catch","error","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.02e2e527.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nconst PersonForm = ({ persons, handleClick }) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    \n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n    \n        const nameObject = {\n            name: newName,\n            number: newNumber\n        }\n    \n        if(persons.some(el => el.name === newName)) {\n            let message = `${newName} is already added to phonebook, replace the old number with a new one?`\n            \n            const result = window.confirm(message)\n\n            if(result === true) {\n                console.log('in here at addPersons')\n                handleClick(nameObject)\n                setNewName('')\n                setNewNumber('')\n            }\n            else {\n                return 0\n            }\n        }\n        else {\n            handleClick(nameObject)\n        }\n        \n\n        // setPersons(persons.push(nameObject))\n        // persons.push(nameObject)\n\n\n        \n        // console.log('Form persons: ', persons)\n\n        return persons\n    }\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange}/>\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React, { useState } from 'react'\n\nconst Filter = ({ persons, handleInput }) => {\n    const [ searchName, setSearchName ] = useState('')\n\n    const handleSearchNameChange = (event) => {\n        setSearchName(event.target.value)\n\n        const i = persons.filter(person => person.name === event.target.value).map(person => person.name)\n        let filteredName = i[0]\n        // console.log('Filtered Name: ', filteredName)\n        // console.log('Filtered Value: ', event.target.value)\n\n        handleInput({\n          event, filteredName\n        })\n    }  \n\n    return (\n      <div>\n        filter shown with <input value={searchName} onChange={handleSearchNameChange}/>\n      </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = ({ person, handlePersonDelete }) => {\n\n    const Button = ({ onClick, text }) => <button onClick={onClick}>{text}</button>\n    \n    return (\n        <p>\n            {person.name} {person.number} <Button onClick={handlePersonDelete} text='delete'/>\n        </p>\n    )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst createPerson = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst updatePerson = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, createPerson, updatePerson, deletePerson }","import React from 'react'\nimport Person from './Person'\nimport personService from '../services/persons'\n\nconst Persons = ({ persons, handleRefresh }) => {\n    const handlePersonDelete = id => {\n        const person = persons.find(person => person.id === id)\n        let message = `Delete ${person.name} ?`\n        const result = window.confirm(message)\n\n        if(result) {\n            personService.deletePerson(id)\n        }\n        else {\n            return 0\n        }\n        \n        const newList = persons.filter(person => person.id !== id)\n        handleRefresh(newList)\n    }\n\n    const personRow = () => {\n        return persons.map(person => <Person key={person.name} person={person} handlePersonDelete={() => handlePersonDelete(person.id)}/>)\n    }\n\n    return (\n        <div>\n            {personRow()}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\nimport './Notification.css'\n\nconst Notification = ({ message, showMessage }) => {\n    if(message === null) {\n        return null\n    }\n\n    // let hidden = true\n\n    return (\n        <div className=\"error\" hidden={showMessage}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ showAll, setShowAll ] = useState(true)\n  const [ filteredNameInput, setFilteredNameInput ]  = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ showMessage, setShowMessage ] = useState(true)\n  \n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n  \n  const _pushToArr = (nameObject) => {\n    console.log('_pushToArr value: ', nameObject)\n    const final_object = persons.find(p => {\n      if(p.name === nameObject.name)\n      {\n        return p\n      }\n      return 0\n    });\n    if(final_object === undefined)\n    {\n      personService\n      .createPerson(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setShowMessage(false)\n        setMessage(`Added ${nameObject.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n    }\n    else \n    {\n      const person = persons.find(person => person.name === nameObject.name)\n\n      console.log(person)\n\n      personService\n      .updatePerson(final_object.id, nameObject)\n      .then(changedPerson => {\n        console.log(changedPerson)\n        setPersons(persons.map(person => person.name !== nameObject.name ? person : changedPerson))\n        setShowMessage(false)\n        setMessage(`Added ${nameObject.number}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        alert(\n          `Information of ${nameObject.name} has already been removed from server`\n        )\n        setPersons(persons.filter(person => person.id !== final_object.id))\n      }\n    )\n    }\n  }\n\n  const _filterAsInput = ({ event, filteredName }) => {\n    if(event.target.value === filteredName) {\n      if(event.target.value === '') {\n        return setShowAll(showAll)\n      }\n      \n      const displayFilterWise = persons.filter(person => { \n        if(person.name === filteredName)\n        {\n          setShowAll(!showAll)\n          return person\n        }\n        return null\n      })\n    \n      setFilteredNameInput(displayFilterWise)\n      return showAll ? persons :  displayFilterWise\n    }\n    else {\n      setShowAll(true)\n    }\n  }\n  \n  const _refreshAfterDelete = newList => {\n    setPersons(newList)\n  }\n\n  return (\n    <div style={{ 'marginLeft':'10px' }}>\n      <h2>Phonebook</h2>\n      <Notification message={message} showMessage={showMessage}/>\n      <Filter persons={persons} handleInput={_filterAsInput}/>\n      <h2>add a new</h2>\n      <PersonForm persons={persons} handleClick={_pushToArr}/>\n      <h3>Numbers</h3>\n      {\n        showAll ? (<Persons persons={persons} handleRefresh={_refreshAfterDelete}/>) : ( <Persons persons={filteredNameInput} handleRefresh={_refreshAfterDelete}/>)\n      }\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}